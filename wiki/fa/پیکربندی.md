# âš™ï¸ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ù¾Ù„ØªÙØ±Ù… RssBot

**ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ø§Ù…Ù„ Ù…Ø­ÛŒØ· Ùˆ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ù¾Ù„ØªÙØ±Ù… Hybrid Microservices**

## ğŸ“‹ ÙÙ‡Ø±Ø³Øª ØªÙ†Ø¸ÛŒÙ…Ø§Øª

### ğŸ—ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§ØµÙ„ÛŒ Ù¾Ù„ØªÙØ±Ù…
- [Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ· (.env)](#Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ-Ù…Ø­ÛŒØ·)
- [ØªÙ†Ø¸ÛŒÙ…Ø§Øª Controller](#ØªÙ†Ø¸ÛŒÙ…Ø§Øª-controller)
- [Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Service Discovery](#Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ-service-discovery)

### ğŸ—„ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡
- [PostgreSQL](#postgresql-ØªÙ†Ø¸ÛŒÙ…Ø§Øª)
- [Redis Cache](#redis-cache-ØªÙ†Ø¸ÛŒÙ…Ø§Øª)
- [SQLite (ØªÙˆØ³Ø¹Ù‡)](#sqlite-ØªÙ†Ø¸ÛŒÙ…Ø§Øª)

### ğŸ“¡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§
- [Connection Methods](#connection-methods)
- [Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ø®Ø§Ø±Ø¬ÛŒ](#Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ-Ø®Ø§Ø±Ø¬ÛŒ)
- [Security Settings](#security-settings)

## ğŸ”§ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ· (.env)

### ÙØ§ÛŒÙ„ Ù†Ù…ÙˆÙ†Ù‡ Ú©Ø§Ù…Ù„
```env
# ===========================================
# ğŸ—ï¸ Platform Core Settings
# ===========================================

# Ù…Ø­ÛŒØ· Ø§Ø¬Ø±Ø§
ENVIRONMENT=development
# Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§: development, production, testing

# Ø³Ø·Ø­ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ
LOG_LEVEL=INFO  
# Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§: DEBUG, INFO, WARNING, ERROR, CRITICAL

# Controller settings
CONTROLLER_HOST=0.0.0.0
CONTROLLER_PORT=8004
CONTROLLER_SECRET_KEY=your_super_secret_key_here_change_in_production

# ===========================================
# ğŸ—„ï¸ Database Configuration
# ===========================================

# Primary Database
DATABASE_URL=postgresql://rssbot_user:secure_password@localhost:5432/rssbot_db
# Ø¨Ø±Ø§ÛŒ SQLite: sqlite:///./rssbot.db

# Redis Cache
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=optional_redis_password
REDIS_MAX_CONNECTIONS=20

# ===========================================
# ğŸ”’ Security Settings  
# ===========================================

# JWT Secret
JWT_SECRET_KEY=your_jwt_secret_key_change_in_production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# API Keys
API_KEY_HEADER=X-API-Key
ADMIN_API_KEY=your_admin_api_key_here

# ===========================================
# ğŸ¤– Telegram Bot Configuration
# ===========================================

# Bot Token Ø§Ø² @BotFather
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrSTUvwxYZ
TELEGRAM_WEBHOOK_URL=https://yourdomain.com/webhook
TELEGRAM_WEBHOOK_SECRET=webhook_secret_token

# ===========================================
# ğŸ§  AI Service Configuration
# ===========================================

# OpenAI
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000

# ===========================================
# ğŸ’³ Payment Service (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
# ===========================================

# Stripe
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ===========================================
# ğŸ“Š Monitoring & Performance
# ===========================================

# Metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Health Check
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# Performance
CACHE_TTL=300
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=30

# ===========================================
# ğŸš€ Service-Specific Settings
# ===========================================

# Service Discovery
SERVICE_DISCOVERY_INTERVAL=10
AUTO_SERVICE_REGISTRATION=true

# Connection Methods (Ù¾ÛŒØ´â€ŒÙØ±Ø¶)
DEFAULT_CONNECTION_METHOD=router
# Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§: router, rest, hybrid, disabled

# Service Ports (ÙÙ‚Ø· Ø¯Ø± REST mode)
DB_SERVICE_PORT=8001
BOT_SERVICE_PORT=8002
AI_SERVICE_PORT=8003
FORMATTING_SERVICE_PORT=8005
USER_SERVICE_PORT=8006
PAYMENT_SERVICE_PORT=8007
ADMIN_SERVICE_PORT=8008
```

## ğŸ—ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Controller

### Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Controller Ø¯Ø± Python
```python
# ÙØ§ÛŒÙ„: src/rssbot/core/config.py
from pydantic_settings import BaseSettings
from typing import Optional, Literal

class ControllerSettings(BaseSettings):
    # Platform Core
    environment: Literal["development", "production", "testing"] = "development"
    log_level: Literal["DEBUG", "INFO", "WARNING", "ERROR"] = "INFO"
    
    # Server
    controller_host: str = "0.0.0.0"
    controller_port: int = 8004
    
    # Security
    controller_secret_key: str
    jwt_secret_key: str
    jwt_algorithm: str = "HS256"
    
    # Database
    database_url: str
    redis_url: Optional[str] = None
    
    # Services
    default_connection_method: Literal["router", "rest", "hybrid"] = "router"
    
    class Config:
        env_file = ".env"
        env_file_encoding = "utf-8"
```

### Ø§ÙˆÙ„ÙˆÛŒØª ØªÙ†Ø¸ÛŒÙ…Ø§Øª
```python
# ØªØ±ØªÛŒØ¨ Ø§ÙˆÙ„ÙˆÛŒØª Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ:
# 1. Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ· Ø³ÛŒØ³ØªÙ…
# 2. ÙØ§ÛŒÙ„ .env  
# 3. Ù…Ù‚Ø§Ø¯ÛŒØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¯Ø± Ú©Ø¯
# 4. ÙØ§ÛŒÙ„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª YAML/JSON (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)

# Ù…Ø«Ø§Ù„:
export DATABASE_URL="postgresql://prod_user:pass@db:5432/rssbot"  # Ø§ÙˆÙ„ÙˆÛŒØª 1
# .env: DATABASE_URL=sqlite:///test.db                            # Ø§ÙˆÙ„ÙˆÛŒØª 2  
# default: DATABASE_URL="sqlite:///rssbot.db"                     # Ø§ÙˆÙ„ÙˆÛŒØª 3
```

## ğŸ—„ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡

### PostgreSQL ØªÙ†Ø¸ÛŒÙ…Ø§Øª
```env
# Production Database
DATABASE_URL=postgresql://rssbot_user:secure_password@postgres:5432/rssbot_db

# Connection Pool Settings  
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=20
DB_POOL_TIMEOUT=30

# SSL Settings (Ø¨Ø±Ø§ÛŒ production)
DB_SSL_MODE=require
DB_SSL_CERT_PATH=/path/to/client.crt
DB_SSL_KEY_PATH=/path/to/client.key
DB_SSL_ROOT_CERT_PATH=/path/to/ca.crt
```

### Redis Cache ØªÙ†Ø¸ÛŒÙ…Ø§Øª
```env
# Redis Configuration
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=your_redis_password
REDIS_MAX_CONNECTIONS=20
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_KEEPALIVE=true

# Cache Strategy
CACHE_TTL=300                    # 5 Ø¯Ù‚ÛŒÙ‚Ù‡
CACHE_MAX_SIZE=1000             # ØªØ¹Ø¯Ø§Ø¯ keys
CACHE_COMPRESSION=true          # ÙØ´Ø±Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ data
```

### SQLite ØªÙ†Ø¸ÛŒÙ…Ø§Øª (ØªÙˆØ³Ø¹Ù‡)
```env
# Local Development
DATABASE_URL=sqlite:///./rssbot.db
SQLITE_FOREIGN_KEYS=true
SQLITE_WAL_MODE=true
SQLITE_SYNCHRONOUS=NORMAL
```